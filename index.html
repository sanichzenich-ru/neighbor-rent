<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Прокат инструмента</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-size: 18px; }
        .admin-section { display: none; } /* Скрыто по умолчанию */
    </style>
</head>
<body class="bg-gray-100 p-4 pb-32">
    <h1 class="text-3xl font-extrabold mb-8 text-center text-blue-600 uppercase">Прокат инструмента</h1>
    
    <div id="item-list" class="space-y-4">
        <div class="bg-white p-5 rounded-2xl shadow-md flex items-center border-l-8 border-orange-500">
            <div class="ml-4 flex-grow">
                <h2 class="font-bold text-xl text-gray-900">Перфоратор Makita</h2>
                <p class="text-gray-600 font-semibold">500 ₽ / сутки</p>
            </div>
            <button onclick="orderItem('Перфоратор Makita')" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold active:scale-95">ВЗЯТЬ</button>
        </div>
    </div>

    <div class="mt-12 p-4 bg-white rounded-2xl border-2 border-dashed border-gray-300">
        <button onclick="toggleAdmin()" class="w-full text-gray-500 font-bold py-2 text-sm uppercase">
            ⚙️ Панель управления (для владельца)
        </button>
        
        <div id="admin-panel" class="admin-section mt-4 space-y-4">
            <input type="text" id="new-name" placeholder="Название (напр. Пылесос)" class="w-full p-4 border rounded-xl text-lg">
            <input type="text" id="new-price" placeholder="Цена (напр. 1000 ₽ / сутки)" class="w-full p-4 border rounded-xl text-lg">
            <button onclick="sendNewItem()" class="w-full bg-green-600 text-white py-4 rounded-xl font-bold text-xl uppercase">
                Создать позицию
            </button>
        </div>
    </div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    // Функция для заказа
    function orderItem(itemName) {
        tg.sendData("ORDER:" + itemName);
        setTimeout(() => tg.close(), 500);
    }

    // Показать/скрыть админку
    function toggleAdmin() {
        const panel = document.getElementById('admin-panel');
        panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
    }

    // Отправить данные для новой позиции в бот
    function sendNewItem() {
        const name = document.getElementById('new-name').value;
        const price = document.getElementById('new-price').value;
        
        if (!name || !price) {
            alert("Заполни все поля!");
            return;
        }

        tg.sendData(`NEW_ITEM|${name}|${price}`);
        setTimeout(() => tg.close(), 500);
    }
</script>
</body>
</html>